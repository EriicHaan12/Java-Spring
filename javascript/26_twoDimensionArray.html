<!DOCTYPE html>
<html lang="kr">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>2차원 배열</title>
    <script>
      //2차원 배열의 기본 운용
      //2행 3열인 2차원 배열을 생성해 보자.

      //1번 방법
      //   let ar = [["a", "b", "c"],["d", "e", "f"],];

      //2번 방법

      //   let ar = new Array(2);
      //   ar[0] = new Array(3);
      //   ar[1] = new Array(3);
      //   ar[0][0] = "a";
      //   ar[0][1] = "b";
      //   ar[0][2] = "c";
      //   ar[1][0] = "d";
      //   ar[1][1] = "e";
      //   ar[1][2] = "f";

      //   console.log(ar);
      //   document.write(ar[0][2] + "<br/>"); //c
      //   document.write(ar[1][1] + "<br/>"); //e

      //   ar[0][1] = 50;
      //   console.log(ar[0][1]);
      //   document.write(ar.length + "<br/>"); // 행의 길이 (열의 갯수, 즉 외부 인덱스의 갯수)
      //   document.write(ar[0].length + "<br/>"); //0행의 길이 (행의 갯수, 즉 내부 열의 인덱스 갯수)
      //   document.write(ar[1].length + "<br/>"); //3

      //   //ar의 모든 데이터를 테이블 태그를 이용하여 출력하기
      //   let output = "<table border ='1'>";
      //   for (let i = 0; i < ar.length; i++) {
      //     output += "<tr>";
      //     for (let j = 0; j < ar[0].length; j++) {
      //       output += `<td>${ar[i][j]}</td>`;
      //     }
      //     output += "</tr>";
      //   }
      //   output += "</table>";
      //   document.write(output);

      //   // jagged 배열 : 행마다 열의 길이가 각각 다른 구조의 2차원 배열 (과거에 메인메모리가 비쌌을 떄, 메모리를 절약하기 위해 고안된 방식, 지금은 쓰지 않는다...)
      //   let jagged = new Array(3);
      //   jagged[0] = [45, 24, 12];
      //   jagged[1] = [45, 23];
      //   jagged[2] = [77, 77, 65, 45];
      //   console.log(jagged);

      //   //예제)

      //   // 학생 3명의 이름, 국어 , 영어, 수학, 총점, 평균, 학점을 구해 성적을 처리 하려 한다.

      //   // 이름, 국어, 영어, 수학 데이터를 유저에게 입력 받아 각각의 총점, 평균, 학점을 구하고, 성적표를, 페이블 태그를 이용하여 출력하세요.(2차원 배열을 활용)

      //   let student = new Array(3);
      //   student[0] = new Array(6);
      //   student[1] = new Array(6);
      //   student[2] = new Array(6);

      //   //
      //   student[0][0] = window.prompt("학생1의 이름을 입력하세요", ""); //
      //   student[0][1] = Number(
      //     window.prompt("학생1의 국어 점수를 입력하세요", 0)
      //   ); //
      //   student[0][2] = Number(
      //     window.prompt("학생1의 영어 점수를 입력하세요", 0)
      //   ); //
      //   student[0][3] = Number(
      //     window.prompt("학생1의 수학 점수를 입력하세요", 0)
      //   );

      //   student[1][0] = window.prompt("학생2의 이름을 입력하세요", ""); //
      //   student[1][1] = Number(
      //     window.prompt("학생2의 국어 점수를 입력하세요", 0)
      //   ); //
      //   student[1][2] = Number(
      //     window.prompt("학생2의 영어 점수를 입력하세요", 0)
      //   ); //
      //   student[1][3] = Number(
      //     window.prompt("학생2의 수학 점수를 입력하세요", 0)
      //   );
      //   //
      //   student[2][0] = window.prompt("학생2의 이름을 입력하세요", ""); //
      //   student[2][1] = Number(
      //     window.prompt("학생3의 국어 점수를 입력하세요", 0)
      //   ); //
      //   student[2][2] = Number(
      //     window.prompt("학생3의 영어 점수를 입력하세요", 0)
      //   ); //
      //   student[2][3] = Number(
      //     window.prompt("학생3의 수학 점수를 입력하세요", 0)
      //   );

      //   console.log(student);

      //   //총점
      //   student[0][4] = student[0][1] + student[0][2] + student[0][3];
      //   student[1][4] = student[1][1] + student[1][2] + student[1][3];
      //   student[2][4] = student[2][1] + student[2][2] + student[2][3];

      //   //평균
      //   student[0][5] = Math.round((student[0][4] / 3) * 10) / 10;
      //   student[1][5] = Math.round((student[1][4] / 3) * 10) / 10;
      //   student[2][5] = Math.round((student[2][4] / 3) * 10) / 10;

      //   for (let i = 0; i < student.length; i++) {
      //     let grade = "";
      //     if (student[i][5] >= 90) {
      //       student[i][6] = "A";
      //     } else if (student[i][5] >= 80) {
      //       student[i][6] = "B";
      //     } else if (student[i][5] >= 70) {
      //       student[i][6] = "C";
      //     } else if (student[i][5] >= 60) {
      //       student[i][6] = "D";
      //     } else {
      //       student[i][6] = "F";
      //     }
      //   }
      //   document.write(`<table border ='1'>
      //                       <tr>
      //                           <td>이름</td>
      //                           <td>국어</td>
      //                           <td>영어</td>
      //                           <td>수학</td>
      //                           <td>총점</td>
      //                           <td>평균</td>
      //                           <td>학점</td>
      //                       </tr>
      //                       <tr>
      //                           <td>${student[0][0]}</td>
      //                           <td>${student[0][1]}</td>
      //                           <td>${student[0][2]}</td>
      //                           <td>${student[0][3]}</td>
      //                           <td>${student[0][4]}</td>
      //                           <td>${student[0][5]}</td>
      //                           <td>${student[0][6]}</td>
      //                       </tr>
      //                       <tr>
      //                           <td>${student[1][0]}</td>
      //                           <td>${student[1][1]}</td>
      //                           <td>${student[1][2]}</td>
      //                           <td>${student[1][3]}</td>
      //                           <td>${student[1][4]}</td>
      //                           <td>${student[1][5]}</td>
      //                           <td>${student[1][6]}</td>
      //                       </tr>
      //                       <tr>
      //                           <td>${student[2][0]}</td>
      //                           <td>${student[2][1]}</td>
      //                           <td>${student[2][2]}</td>
      //                           <td>${student[2][3]}</td>
      //                           <td>${student[2][4]}</td>
      //                           <td>${student[2][5]}</td>
      //                           <td>${student[2][6]}</td>
      //                       </tr>
      //                       </table>`);

      //   document.write("</hr></br>");

      //   //   let table = `<table border ='1'>`;
      //   //   table += `<tr>
      //   //               <td>이름</td>
      //   //               <td>국어</td>
      //   //               <td>영어</td>
      //   //               <td>수학</td>
      //   //               <td>총점</td>
      //   //               <td>평균</td>
      //   //               <td>학점</td>
      //   //               </tr>`;
      //   //   for (let i = 0; i < student.length; i++) {
      //   //     table += "<tr>";
      //   //     for (let j = 0; student[0].length; j++) {
      //   //       table += `<td>${student[i][j]}</td>`;
      //   //     }
      //   //     table += "</tr>";
      //   //   }
      //   //   table += "</table>";
      //   //   document.write(table);

      //   //추가 문제 : 평균을 기준으로 내림차순 정렬하여 출력 하세요! (평균 쭉쭉 내림차순으로)
      //   let tmp = 0;
      //   for (let i = 0; i < student.length - 1; i++) {
      //     for (let j = 1 + 1; j < student.length; j++) {
      //       if (student[j][5] > student[i][5]) {
      //         let tmp = student[j];
      //         student[j] = student[i];
      //         student[i] = tmp;
      //       }
      //     }
      //   }
      //   document.write("</hr></br>");

      //   let table = `<table border ='1'>`;
      //   table += `<tr>
      //       <td>이름</td>
      //       <td>국어</td>
      //       <td>영어</td>
      //       <td>수학</td>
      //       <td>총점</td>
      //       <td>평균</td>
      //       <td>학점</td>
      //       </tr>`;
      //   for (let i = 0; i < student.length; i++) {
      //     table += "<tr>";
      //     for (let j = 0; j < student[0].length; j++) {
      //       table += `<td>${student[i][j]}</td>`;
      //     }
      //     table += "</tr>";
      //   }
      //   table += "</table>";
      //   document.write(table);
      //   // 제일 위로 옮겨서 쓸려면 window.onload = function(){}
      //   // 을 써도 된다.

      //추가 문제 2 : 등수를 매겨 보세요.
      // (평균을 기준으로 등수를 매겨 보되, 평균이 같으면 등수가 건너 뜁니다.)
      let scores = new Array(4);
      scores[0] = new Array(7);
      scores[1] = new Array(7);
      scores[2] = new Array(7);
      scores[3] = new Array(7);

      scores = [
        ["홍길동", 44, 55, 66],
        ["둘리", 55, 88, 100],
        ["도우너", 45, 23, 88],
        ["마이콜", 55, 88, 100],
      ];
      //총점
      scores[0][4] = scores[0][1] + scores[0][2] + scores[0][3];
      scores[1][4] = scores[1][1] + scores[1][2] + scores[1][3];
      scores[2][4] = scores[2][1] + scores[2][2] + scores[2][3];
      scores[3][4] = scores[3][1] + scores[3][2] + scores[3][3];
      //평균
      scores[0][5] = Math.round((student[0][4] / 3) * 10) / 10;
      scores[1][5] = Math.round((student[1][4] / 3) * 10) / 10;
      scores[2][5] = Math.round((student[2][4] / 3) * 10) / 10;
      scores[3][5] = Math.round((student[2][4] / 3) * 10) / 10;

      //학점
      for (let i = 0; i < scores.length; i++) {
        let grade = "";
        if (scores[i][5] >= 90) {
          scores[i][6] = "A";
        } else if (scores[i][5] >= 80) {
          scores[i][6] = "B";
        } else if (scores[i][5] >= 70) {
          scores[i][6] = "C";
        } else if (scores[i][5] >= 60) {
          scores[i][6] = "D";
        } else {
          scores[i][6] = "F";
        }
      }

          // 정렬 후 랭크를 매길 때 같은 수가 있는지 확인 할력 쓴 코드
      //   let score[0][7] = 1
      //   for (let i = 0; i < scores.length - 1; i++) {
      //     for (let j = 1; j < scores.length; j++) {
      //       if (scores[j][5] > scores[i][5]) {
      //         scores[i][7]++
      //       } else if (scores[j][5] === scores[i][5]) {
      //         scores[i][7]
      //       }
      //     }
      //   }


      let rank = 1,
        curRank = 1;
      scores[0][7] = curRank;
      for (let i = 1; i < scores.length; i++) {
        rank++;
      }
      if (scores[i][5] != scores[i - 1][5]) {
        curRank = rank;
      }
      scores[i][7] = curRank;

      let table = `<table border ='1'>`;
      table += `<tr>
          <td>이름</td>
          <td>국어</td>
          <td>영어</td>
          <td>수학</td>
          <td>총점</td>
          <td>평균</td>
          <td>학점</td>
          </tr>`;
      for (let i = 0; i < scores.length; i++) {
        table += "<tr>";
        for (let j = 0; j < scores[0].length; j++) {
          table += `<td>${scores[i][j]}</td>`;
        }
        table += "</tr>";
      }
      table += "</table>";
      document.write(table);

    </script>
  </head>
  <body></body>
</html>
