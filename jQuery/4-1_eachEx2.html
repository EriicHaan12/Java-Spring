<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.1/jquery.min.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" />
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>

    <title>$.each() 예제</title>

    <style>
      #catalog {
        margin-top: 40px;
      }
      .card {
        float: left;
        margin-right: 20px;
      }
    </style>
    <script>
      // ajax를 이용해 데이터를 받았다 치고...
      let json = [
        {
          brandName: "횬다이",
          carName: "그랜다이져",
          color: "black",
          carImg: "../javascript/img/k8.jpg",
          description: "세상의 기대와 예상을 뛰어넘어 스스로를 혁신한 그랜저. 전통과 미래, 세대와 취향, 기술과 감성의 경계를 지운 새로운 경험을  선사합니다.",
          link: "https://namu.wiki/w/%EA%B7%B8%EB%A0%8C%EB%8B%A4%EC%9D%B4%EC%A0%80",
        },
        {
          brandName: "기어",
          carName: "게7",
          color: "white",
          carImg: "../javascript/img/tico.jpg",
          description: "기아에서 2009년부터 생산하여 2021년에 단종된 전륜구동 기반의 준대형 세단이다. 기아의 부활을 일으킨 K시리즈 중 가장 먼저 출시된 선발주자이자 주력 모델이었으며, 2021년 4월까지 판매되었다.",
          link: "https://namu.wiki/w/K7",
        },
        {
          brandName: "지푸",
          carName: "루비콘",
          color: "빨간색",
          description:
            "지프는 크라이슬러의 자동차 브랜드다. '지프'라는 이름의 뜻은 트렁크에 뒷바퀴이가 달린 SUV/Convertible 을 의미하며, 대부분의 지프 자동차들은 SUV이다. 지프는 주로 군용 자동차로 많이 사용되었으며, 2009년에는 지프의 이름을 걸고 캐주얼 의류 브랜드를 만들었다.",
          link: "https://namu.wiki/w/%EC%A7%80%ED%94%84",
        },
      ];

      console.log(json);

      $(function () {
        let output = "<table border='1'><tr><th>브랜드명</th><th>carName</th><th>color</th><th>carImg</th><th>description</th></tr>";
        $.each(json, function (i, item) {
          output += `<tr><td>${item.brandName}</td>
                          <td>${item.carName}</td>
                          <td>${item.color}</td>`;

          if (item.carImg == null) {
            output += `<td><img src ='../javascript/img/noImage.png' width="50px"></td>
                              <td>${item.description}</td>
                              </tr>`;
          } else {
            output += `<td><img src ='${item.carImg}'width="50px"></td>
              <td>${item.description}</td>
              /tr>`;
          }
        });
        output += "</table> <br/><br/>";
        $("#tableCatalog").html(output);

        let output2 = "";
        $.each(json, (i, element) => {
          output2 += `<div class="card" style="width:250px">`;

          if (element.carImg == null || element.carImg === "") {
            output2 += `<img class="card-img-top" src="../javascript/img/noImage.png"  style="width:100%">`;
          } else {
            output2 += `<img class="card-img-top" src="${element.carImg}" alt="${element.carName}" style="width:100%">`;
          }

          output2 += `<div class="card-body"><h4 class="card-title">${element.carName}</h4>`;
          output2 += `<p class="card-text">${element.description}</p>
                     <a href="${element.link}" class="btn btn-primary">See Profile</a>
                    </div>
                    </div>`;
        });
        $("#catalog").html(output2);
      });


      
    </script>
  </head>
  <body>
    <div class="container mt-3">
      <h1>차량 소개</h1>
      <div id="tableCatalog"></div>
      <div id="catalog"></div>
      <img src="" alt="" />
    </div>
  </body>
</html>
